import time,random
from typing import List

from facepy import GraphAPI
api = "EAACEdEose0cBAGRmFJq3DudZBlUJVdAts95veFhdEfdOr9bxoFEaApb69BTNiEgp12gG094RRJa1UqADMlxJz0mMfk7KyA5djxqIjZAL4jS7UsjmrAh1lOrv7TD6ZAVIYihAVZCMPBGXdqwnh3dakFPZAnTF3d1PkpYvw1rM0IWjVZBbEcgdhT09ZB5JovxvpgZD"

graph = GraphAPI(api)

message = '''
Need Money Finance a Loan and Earn Interest

http://www.p2ptraders-app.appspot.com allows you to earn interest on your initial investment risk free,
invest just R1000.00 and watch your investment grow to us much as R9000.00 in just under a week.

http://www.p2ptraders-app.appspot.com is a peer to peer lending platform allowing you to earn interest on loans to
your peers with minimal payback risk.
'''


# Find the ids of your desired groups from http://lookup-id.com/
# and add this in this array groups

_groups: List[str] = [
    '538342933008320', '1102533313090105', '164489826895912',
    '1484049628524039', '1603928069926995', '950322191651738',
    '711364268938701', '274441032766829', '146876972149386',
    '1547776405444325', '784297738345030', '1511575495781679',
    '755692847910950','262238687211695','1664864617114927',
    '1723905861222063','251957491804488','174191025183',
    '1486373431626775','343159492474520','885227164831542',
    '578127695539798','471072349663119','1098883566843151',
    '879486452078688','931491813597939','490154967827123',
    '177688965660272','56538832229','722960411120468',
    '1463758510550402', '392378173668', '1456901304560845',
    '576508995745651','110232907716','927120324005475',
    '325338070893306','790034754371631', '8435656980',
    '280574585289376','677089919009723','368749976523903',
    '128388737052','695720603784600','170506956490414',
    '158639990958633','367572560012674','355615061175037',
    '701170026628303','534788106622337','368085513254028',
    '606025329524125', '1630663117178377','1517180231872532',
    '343928159012007','479117102273081','1637455066482964',
    '1244089915607083','1533599940269521','1631550350457988',
    '1720682281477923','1685430391674558','1545276862466917',
    '578454355638033','1072733022748070','221536938197594',
    '446778575529751', '1013873848655762', '1115710995106134',
    '1772069786356199','1598112443796217','467001136828976',
    '671898842944619','941668412537650','906556536065387',
    '1640610469529320','329568040468750','1657793177785586',
    '2474481925','1430391003916153','727573637323817',
    '1656947441202089','155324307866118','149506018740280',
    '130172024017663','1449934281907579','730837800336990',
    '107126572963627','712176562219634','1627920250768831',
    '243523489167838','111904830976','285860561619633',
    '230409830494491','587959551257227','1473216516263475',
    '528137823866443','553467354681667','187517217990286',
    '606612136070473','151973274960633','284094691733585',
    '140653645705','439672099472239','594714773881988',
    '111193713672','164104306956514','184103631696012',
    '197538603706948','664240323606427','442232432519601',
    '197774950382493','1407264492828426','810829005693798',
    '940318179419497',
    '502320243132747',
    '132802300453356',
    '203786410058693',
    '1637041589892908',
    '1468664553160531',
    '198420500600522',
    '891061780929581',
    '848005738647762',
    '614040405377838',
    '872057319590582',
    '547028591978991',
    '123188094404370',
    '1688641051393706',
    '1668569696790345',
    '165768552491',
    '1443778175891838',
    '440686002617339',
    '260239120726390',
    '925986950783070',
    '1732481493746128',
    '965010596942476',
    '892875597476035',
    '1893927924176512',
    '1283427078363484',
    '307379289380149',
    '928783137200701',
    '4977473396',
    '1510134682579854',
    '100408726061',
    '1089485814411535',
    '545385115636321',
    '997649333587035',
    '603722176454062',
    '1543606095889586',
    '160144424187088',
    '1658489027701931',
    '594209814060335',
    '833200753363714',
    '1428541787397755',
    '122248708135673',
    '1706888759556063',
    '465747676834716',
    '592182754291599',
    '1593232564275059',
    '295650563943353',
    '603486743007117',
    '224400727696059',
    '710022769113385',
    '582394958530735',
    '1506510342986982',
    '264850663631929',
    '1604802029807500',
    '25601192554',
    '1136778453013720',
    '873874819289292',
    '1701505993461696',
    '1637490423203745',
    '148952955185461',
    '1466973543578470',
    '1407091979553310',
    '1127393483986104',
    '1156035977769819',
    '1658539847762726',
    '1397113697191012',
    '508801575862447',
    '182305425135221',
    '1534239730146847',
    '363820700131',
    '1746086708950541',
    '693574467384316',
    '858125590921398',
    '286635168161978',
    '257278007747757',
    '1449148772062684',
    '175065069242399',
    '240585582781522',
    '599676956830835',
    '490674444415347',
    '1674245802857616',
    '424212554263176',
    '315648031795904',
    '919904734702356',
    '408304439288997',
    '932349213503882',
    '536587376495659',
    '1424456921151976',
    '459410427435175',
    '102447169409',
    '1201403736608902',
    '1749737425263201',
    '333780066677674',
    '195944513749408',
    '450401991813658',
    '152188814704',
    '142218919148258',
    '646685465422603',
    '170315496348208',
    '384510588304355',
    '142131742543914',
    '523185731048873',
    '680800761979419',
    '1779077192323084',
    '233197526773710',
    '304261556348945',
    '504558616231170',
    '1430109333891514',
    '1659027771007020',
    '767077376635822',
    '191466331052830',
    '640301292740952',
    '686560551374180',
    '1800203813539596',
    '539442972773185',
    '107783820425',
    '1655264228059761',
    '1475140182718128',
    '1612700025646277',
    '189358431227615',
    '150242608485563',
    '289602997904342',
    '108798822613610',
    '500940936729937',
    '243941079016400',
    '991255834224016',
    '3391455157',
    '1671111996494128',
    '828876950477339',
    '301236770215087',
    '529249277151153',
    '179240855474784',
    '189862404438781',
    '204688026241326',
    '449390561822511',
    '1668059363426647',
    '507436076008625',
    '310026072398295',
    '472075392822777',
    '563017063728296',
    '233122546849309',
    '1461469420768211',
    '2292539667',
    '321161591353779',
    '975601132536207',
    '679206288859405',
    '369893076477765',
    '1659705697632881',
    '103520569687440',
    '490679154473739',
    '1594147557481160',
    '28677307798',
    '196071440407513',
    '185041218180436',
    '225642780952806',
    '322352291276016',
    '257846404276208',
    '380931315446756',
    '386363811511995',
    '317914378291866',
    '142387942535037',
    '209813225819521',
    '1732317317014456',
    '133527986816712',
    '29593013279',
    '904213339661769',
    '697832600270981',
    '1633642200225514',
    '320054581486654',
    '696681767084560',
    '2589935026',
    '599922293488350',
    '123360237824437',
    '1534291620144249',
    '486770048108063',
    '1628507944078356',
    '581633288604367',
    '235073923239979',
    '483795721673233',
    '1422200781411407',
    '422644721123231',
    '917930858246383',
    '953491894739573',
    '227490057271104',
    '148987911950101',
    '530854860312927',
    '181474265226850',
    '439436016112485',
    '488870704597498',
    '343473102333010',
    '1494619354148670',
    '488312691218223',
    '832271583463424',
    '111197075591922',
    '101597333515011',
    '1625000364380794',
    '1627849460831788',
    '112159512077',
    '1591385517796417',
    '279060572129079',
    '550401341791811',
    '1460122770970778',
    '155001380737',
    '125884654163145',
    '286913978167041',
    '157582414428974',
    '1571510353060324',
    '247908098718875',
    '1045168405519076',
    '129242607801',
    '640616389408190',
    '693810073989433',
    '902134456512819',
    '503933759632352',
    '333850896703700',
    '933409900058855',
    '410964029065245',
    '275386869304367',
    '417492461702401']

total_successful_Posts = 0
total_failed_posts = 0

retries = 3

for group_id in groups:

    print "Posting to " + 'http://www.facebook.com/groups/' + str(group_id)
    try:
        graph.post(path =str(group_id) + '/feed',retry=retries, message=message)
        print("Success")
        total_successful_Posts = total_successful_Posts + 1
        time.sleep(random.randint(10,20))
    except:
        total_failed_posts = total_failed_posts + 1
        print("Failed")
        time.sleep(random.randint(30, 60))
        if retries < 10:
            retries = retries + 1
print "Done"
print "Statistics========================="
print "Total Successfull : " + str(total_successful_Posts)
print "Total Failed : " + str(total_failed_posts)
print "Total Groups : " + str(total_successful_Posts + total_failed_posts)

